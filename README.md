## üìß Email Sender ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è SMTP-—Ä–∞—Å—Å—ã–ª–∫–∞ HTML-–ø–∏—Å–µ–º

–ü—Ä–æ–µ–∫—Ç –Ω–∞ Go –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö HTML-–ø–∏—Å–µ–º –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è–º –∏–∑ SQLite-–±–∞–∑—ã —á–µ—Ä–µ–∑ SMTP (–Ø–Ω–¥–µ–∫—Å –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π).

---

### üßæ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* –ó–∞–≥—Ä—É–∑–∫–∞ HTML-—à–∞–±–ª–æ–Ω–∞ –ø–∏—Å—å–º–∞
* –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–º–µ–Ω–∏ –∏ —Å—Å—ã–ª–∫–∏ –æ—Ç–ø–∏—Å–∫–∏
* –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ SMTP (`gomail.v2`)
* –í—ã–±–æ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π (`send_email = 0`)
* –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª (`logs/email_sender.log`)
* –†–∞–Ω–¥–æ–º–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–∏—Å—å–º–∞–º–∏
* –û—Ç–º–µ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–∏—Å–µ–º –≤ –±–∞–∑–µ
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `.env` –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

---

### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
email_sender/
‚îú‚îÄ‚îÄ main.go                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ go.mod / go.sum         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Go
‚îú‚îÄ‚îÄ .env                    # –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ config/                 # –ó–∞–≥—Ä—É–∑–∫–∞ SMTP-–∫–æ–Ω—Ñ–∏–≥–∞
‚îÇ   ‚îî‚îÄ‚îÄ config.go
‚îú‚îÄ‚îÄ db/                     # –†–∞–±–æ—Ç–∞ —Å SQLite
‚îÇ   ‚îî‚îÄ‚îÄ sqlite.go
‚îú‚îÄ‚îÄ email/                  # SMTP –∏ —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ smtp.go
‚îÇ   ‚îî‚îÄ‚îÄ template.go
‚îú‚îÄ‚îÄ templates/              # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ base.html
‚îÇ   ‚îî‚îÄ‚îÄ base_old.html
‚îú‚îÄ‚îÄ data/                   # –ë–∞–∑–∞ SQLite
‚îÇ   ‚îî‚îÄ‚îÄ potential_customers.sqlite
‚îú‚îÄ‚îÄ logs/                   # –§–∞–π–ª—ã –ª–æ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ email_sender.log
```

---

### ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Go ‚â• 1.18

#### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/yourname/email_sender.git
cd email_sender
```

#### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
go mod tidy
```

#### 4. –°–æ–∑–¥–∞—Ç—å `.env` –≤ –∫–æ—Ä–Ω–µ:

```env
SMTP_FROM=info@smart-stack.ru
SMTP_USER=info@smart-stack.ru
SMTP_PASS=your_smtp_app_password
```

#### 5. –°–æ–∑–¥–∞—Ç—å –ª–æ–≥-–ø–∞–ø–∫—É (–µ—Å–ª–∏ –Ω–µ—Ç)

```bash
mkdir -p logs
```

#### 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å

```bash
go run .
```

---

### üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã –≤ SQLite

```sql
CREATE TABLE individual_entrepreneur (
  id INTEGER PRIMARY KEY,
  last_name TEXT,
  first_name TEXT,
  middle_name TEXT,
  email TEXT,
  send_email INTEGER DEFAULT 0,
  last_sent TEXT,
  error TEXT
);
```

---

### üõ† –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

* [`gopkg.in/gomail.v2`](https://pkg.go.dev/gopkg.in/gomail.v2) ‚Äî SMTP-–æ—Ç–ø—Ä–∞–≤–∫–∞
* [`github.com/joho/godotenv`](https://github.com/joho/godotenv) ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ `.env`
* [`github.com/mattn/go-sqlite3`](https://github.com/mattn/go-sqlite3) ‚Äî SQLite

---

### üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

* –†–∞—Å—Å—ã–ª–∫—É –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (`cron`, `systemd`, Task Scheduler)
* –ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏ –æ—Ç–ø–∏—Å–∫–∏
* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π SMTP-–ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∞ –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π)
